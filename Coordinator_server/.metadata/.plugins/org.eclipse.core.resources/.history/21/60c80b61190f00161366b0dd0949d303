package messages;




import messages.Message.Type;
import entities.Student;

public class StudentMessage extends Message{
	
	/**
	 * 
	 */
	private static final long serialVersionUID = 1L;
	private Operation MessageOperation;
	private enum Operation{None, Message_To_Server, Message_To_Driver, 
		Cancel_Request, Make_Request, Report_Error};

	/**
	 * Constructor of the {@link StudentMessage} class
	 *
	 * @author Felipe Izepe
	 * @version 2.0
	 * @since 2016-04-30
	 * @param Student owner of the message
	 * @param String message that will be sent and read
	 */
	public StudentMessage(Student owner, String message) {
		super(owner, message);
		this.MessageOperation = Operation.None;
	}
	
	/**
	 * Gets the owner of the message, null if sent by the server
	 *
	 * @author Felipe Izepe
	 * @version 1.0
	 * @since 2016-04-25
	 */
	public Student getOwner() {
		return (Student)this.getOwner();
	}
	
	/**
	 * Sets the type of operation that the message will perform
	 *
	 *@param type - <b>0</b> send a message to the coordinator | <b>1</b> send a message to driver |
 	 * <b>2</b> make a ride request | <b>3</b> cancel a ride | <b>4</b> report that an error occurred
	 *
	 * @author Felipe Izepe
	 * @version 1.0
	 * @since 2016-04-30
	 */
	public void serType(int type)
	{
		switch(type){
		case 0:
			this.MessageOperation = Operation.Message_To_Server;
			break;
		case 1:
			this.MessageOperation = Operation.Message_To_Driver;
			break;
		case 2: 
			this.MessageOperation = Operation.Make_Request;
			break;
		case 3:
			this.MessageOperation = Operation.Cancel_Request;
			break;
		default:
			return;
		}
	}
	
	/**
	 * Checks if the message is to be sent to the coordinator
	 *
	 * @author Felipe Izepe
	 * @version 1.0
	 * @since 2016-04-30
	 */
	public boolean isMessageToServer()
	{
		if(MessageOperation == Operation.Message_To_Server)
			return true;
		return false;
	}
	
	/**
	 * Checks if the message is to be sent to the coordinator
	 *
	 * @author Felipe Izepe
	 * @version 1.0
	 * @since 2016-04-30
	 */
	public boolean isMessageToDriver()
	{
		if(MessageOperation == Operation.Message_To_Server)
			return true;
		return false;
	}
}
